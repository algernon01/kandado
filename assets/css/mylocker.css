:root{
  --bg:#f5f7fb; --surface:#fff; --text:#1f2937; --muted:#6b7280;
  --primary:#2563eb; --primary-600:#1d4ed8; --primary-700:#1e40af;
  --success:#16a34a; --danger:#dc2626; --warn:#f59e0b;
  --border:#e5e7eb; --ring:rgba(37,99,235,.35); --shadow:0 10px 30px rgba(2,6,23,.08);
  --radius:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
}
.page{padding:clamp(14px,3vw,28px)}
.container{max-width:1040px;margin:0 auto}


.page-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.page-head h1{margin:0;font-size:clamp(20px,2.6vw,28px);font-weight:800;letter-spacing:-.01em}
.badges{display:inline-flex;gap:8px;align-items:center}


.status-badge{
  display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;
  font:700 13px/1 Inter,system-ui,-apple-system,"Segoe UI",sans-serif;background:#ecfdf5;color:var(--success);border:1px solid #d1fae5
}
.status-badge::before{content:"";width:8px;height:8px;border-radius:50%;background:var(--success)}
.status-badge.is-expired{background:#fee2e2;color:var(--danger);border-color:#fecaca}
.status-badge.is-expired::before{background:var(--danger)}
.status-badge.is-used{background:#fff7ed;color:var(--warn);border-color:#fed7aa}
.status-badge.is-used::before{background:var(--warn)}


.conn-badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:var(--surface);font-weight:700;font-size:13px}
.led{width:10px;height:10px;border-radius:50%;box-shadow:0 0 0 2px #f1f5f9 inset}
.led--online{background:var(--success)} .led--offline{background:#9ca3af}


.card{background:var(--surface);border-radius:var(--radius);border:1px solid var(--border);box-shadow:var(--shadow);padding:clamp(18px,3vw,24px)}


.locker__head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px;border-bottom:1px dashed #e5e7eb;padding-bottom:10px}
.locker__eyebrow{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.08em}
.locker__number{font-weight:900;font-size:clamp(20px,4vw,28px);letter-spacing:.02em}
.locker__code{display:inline-flex;align-items:center;gap:8px}
.code-label{color:var(--muted);font-size:13px}
.code-value{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:#f3f6ff;color:#0f172a;padding:6px 10px;border-radius:8px;border:1px solid #e6eefb;letter-spacing:.02em;overflow-wrap:anywhere}


.locker__grid{display:grid;gap:18px}
.locker__qr{display:grid;gap:12px;justify-items:center}
@media (min-width:800px){.locker__grid{grid-template-columns:1fr 1fr;align-items:start}.locker__qr{justify-items:start}}


.qr__button{background:#f8fafc;border:1px solid #e6eefb;border-radius:12px;padding:10px;cursor:zoom-in;transition:transform .15s,box-shadow .15s}
.qr__button:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(2,6,23,.08)}
.qr__button img{display:block;width:clamp(220px,60vw,340px);height:auto}


.locker__time{display:grid;gap:12px}
.time__row{display:flex;align-items:baseline;justify-content:space-between;gap:12px}
.time__label{color:var(--muted);font-size:14px}
.time__value{font-variant-numeric:tabular-nums;font-size:clamp(24px,5vw,34px);font-weight:900;letter-spacing:.02em;color:var(--primary-600)}
.progress{position:relative;height:8px;background:rgba(22,163,74,.18);border-radius:999px;overflow:hidden;border:1px solid #e5e7eb;transition:background-color .4s linear}
.progress__bar{position:absolute;left:0;top:0;bottom:0;width:0%;background:#16a34a;transition:width .4s linear,background-color .4s linear}


.locker__actions{display:flex;gap:10px;flex-wrap:wrap}
@media (max-width:520px){.locker__actions .btn{flex:1 1 100%}}
.btn{--h:44px;display:inline-flex;align-items:center;justify-content:center;height:var(--h);padding:0 16px;border-radius:10px;border:1px solid transparent;font-weight:700;font-size:14px;cursor:pointer;user-select:none;transition:transform .08s,background .15s,border-color .15s,box-shadow .15s;text-decoration:none}
.btn:active{transform:translateY(1px)}
.btn:focus-visible{outline:none;box-shadow:0 0 0 4px var(--ring)}
.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-600)}
.btn-secondary{background:#f8fafc;color:var(--primary-700);border:1px solid #e6eefb}.btn-secondary:hover{background:#eef2f7}
.btn-ghost{background:#fff;color:var(--primary);border:1px solid #e6eefb}.btn-ghost:hover{background:#f8fafc}
.btn-xs{height:32px;padding:0 10px;font-size:12px}
.btn-danger{background:var(--danger);color:#fff;border:1px solid transparent}.btn-danger:hover{background:#b91c1c}
.btn-danger:focus-visible{box-shadow:0 0 0 4px rgba(220,38,38,.35)}


.card.empty{text-align:center;display:grid;gap:12px;justify-items:center;padding:clamp(24px,4vw,40px)}
.empty__illu{opacity:.95}.card.empty h2{margin:0;font-size:clamp(18px,3vw,22px)}.card.empty p{margin:0 0 8px;color:var(--muted)}


.locker__qr{display:grid;gap:12px;justify-items:center}
@media (min-width:800px){.locker__qr{justify-items:center !important}}
.locker__code--below{justify-content:center}


.state-expired{opacity:.95}.state-used{opacity:.95}


.reserve-popup.swal2-popup{
  width:clamp(360px,92vw,720px);
  padding:16px;border-radius:16px;box-shadow:var(--shadow)
}
.reserve-popup .swal2-title{
  text-align:center;letter-spacing:-.02em;font-weight:800;
  font-size:clamp(22px,3.4vw,34px);
}
.reserve-popup .swal2-html-container{margin:0 !important;padding:0 !important;overflow:visible}


@media (max-width:720px){
  .reserve-popup.swal2-popup{height:92dvh;display:flex;flex-direction:column}
  .reserve-popup .swal2-html-container{
    flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;
    padding-right:6px; 
  }
  .reserve-popup .swal2-actions{
    position:sticky;bottom:0;
    background:linear-gradient(180deg,rgba(255,255,255,0),#fff 40%);
    padding-top:8px;margin-top:8px;
    padding-bottom:calc(env(safe-area-inset-bottom) + 6px);
  }
}


.reserve-modal{display:grid;gap:12px}


.wallet-inline{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:10px 12px;box-shadow:var(--shadow);font-weight:800
}
.wallet-inline .amount{font-variant-numeric:tabular-nums;color:var(--text)}


.duration-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
@media (min-width:920px){.duration-grid{grid-template-columns:repeat(4,1fr)}}
@media (max-width:480px){
  .duration-grid{grid-template-columns:repeat(2,1fr);gap:10px}
  .option-card{padding:10px;min-height:72px}
  .option-card .opt-title{font-size:13.5px}
  .option-card .opt-price{font-size:12px}
}

.option-card{
  position:relative;display:block;border:1px solid var(--border);background:#fff;border-radius:12px;
  padding:12px;box-shadow:var(--shadow);cursor:pointer;transition:transform .18s cubic-bezier(.2,.7,.3,1),box-shadow .18s,border-color .18s,background .18s;
  min-height:64px;text-align:center
}
.option-card:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(2,6,23,.12)}
.option-card input{position:absolute;inset:0;opacity:0;pointer-events:none}
.option-card .opt-main{display:flex;flex-direction:column;gap:6px;align-items:center;justify-content:center;font-weight:700}
.option-card .opt-title{color:var(--text);font-size:14px}
.option-card .opt-price{display:inline-block;white-space:nowrap;font-variant-numeric:tabular-nums;color:var(--muted);font-size:13px;padding:4px 10px;border:1px solid var(--border);border-radius:999px;background:#f1f5f9}

.option-card:has(input:checked){border-color:rgba(37,99,235,.45);box-shadow:0 0 0 3px rgba(37,99,235,.20),var(--shadow);background:linear-gradient(180deg,#fff,#f8fbff)}


.option-card.insufficient{opacity:.78}
.option-card.insufficient::after{
  content:"Top up needed";position:absolute;right:10px;bottom:10px;background:#fff1f2;color:#be123c;border:1px solid #fecdd3;
  font-size:11px;font-weight:800;padding:3px 6px;border-radius:999px
}


.wallet-warning{display:none;background:#fff8e1;color:#92400e;border:1px solid #fde68a;border-radius:10px;padding:8px 10px;font-weight:700}
.wallet-warning.show{display:block}
.summary-row{display:flex;align-items:center;justify-content:space-between;gap:10px;border-top:1px dashed var(--border);padding-top:10px;margin-top:2px}
.summary-row .total{font-weight:800}
.reserve-modal .reference .ref-value{color:var(--primary);text-decoration:none}
.reserve-modal .reference .ref-value:hover{text-decoration:underline}


.reference {
  display:flex;
  align-items:center;
  justify-content:space-between; 
  width:100%;
  gap:8px;
  font-size:13px;
  color:var(--muted);
  margin-top:8px;
}

.reference .ref-label {
  color:var(--muted);
}

.reference .ref-value {
  margin-left:auto;     
  color:var(--primary);
  font-weight:600;
  text-decoration:none;
}

.reference .ref-value:hover {
  text-decoration:underline;
}




@media (max-width:520px) {
  .btn-primary {
    width: 100%;             
    height: 50px;            
    font-size: 16px;          
    border-radius: 12px;      
    margin-top: 6px;          
  }


  .btn-primary {
    box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25);
  }

  .btn-primary:active {
    transform: scale(0.98);   
  }
}

.btn-gray {
  background:#f3f4f6;       
  color:#4d5c76;            
  border:1px solid #d1d5db;  
}
.btn-gray:hover {
  background:#e5e7eb;        
}
.btn-gray:active {
  background:#d1d5db;        
}
